<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <!-- This is a wide open CSP declaration. To lock this down for production, see below. -->
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />
    <!-- Good default declaration:
    * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
    * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
    * Disables use of eval() and inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
        * Enable inline JS: add 'unsafe-inline' to default-src
        * Enable eval(): add 'unsafe-eval' to default-src
    * Create your own at http://cspisawesome.com
    -->
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: 'unsafe-inline' https://ssl.gstatic.com; style-src 'self' 'unsafe-inline'; media-src *" /> -->

    <link rel="stylesheet" href="css/material.css">
    <script src="js/material.min.js"></script>
    <link rel="stylesheet" href="css/material_Icons.css">
    <link rel="stylesheet" href="css/kc.fab.css">
    <script src="js/jquery-3.1.1.min.js"></script>
    <script src="js/kc.fab.min.js"></script>
    <title>Events</title>
</head>

<body>
<div class="showOnLoad" style="width:100%;">
    <script type="text/javascript" src="cordova.js"></script>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer
            mdl-layout--fixed-header">
      <header class="mdl-layout__header">
        <div class="mdl-layout__header-row">
          <span class="mdl-layout-title content" id="NavigationEvents"></span>
          <div class="mdl-layout-spacer"></div>
          <div class="kc_fab_wrapper"></div>
        </div>
      </header>
      <div class="mdl-layout__drawer">
		<script type="text/javascript" src="js/navigation.js"></script>
      </div>
      <main class="mdl-layout__content">
        <div class="page-content" style="text-align:center;">
<!--             <div class="mdl-card mdl-shadow--4dp" style="margin: 0 auto;text-align: left;margin-top:5px; margin-bottom:10px;">
                <div class="mdl-card__title" style="background-color:#f9d14c;">
                    <h1 class="mdl-card__title-text">Workshop</h1> <br />
                    <span class="mdl-card__subtitle-text">March 18 2017</span>
                </div>
                <div class="mdl-card__supporting-text">
                    4 days transformational program.
                </div>
                <div class="mdl-card__supporting-text">
                Dates: March 18 2017, March 18 2017, March 18 2017, March 18 2017 <br />
                Language: Kananda
                </div>
				<div width="173" height="157" class="mdl-card__media" style="padding:10px;background-color:rgb(233, 247, 146);">
                    <i class="material-icons">location_on</i><span class="mdl-card__subtitle-text">Location</span>
                    <i class="material-icons">web</i><span class="mdl-card__subtitle-text">Online Payment</span>
                </div>
            </div>
			<div class="mdl-card mdl-shadow--4dp" style="margin: 0 auto;text-align: left;margin-top:5px; margin-bottom:10px;">
                <div class="mdl-card__title" style="background-color:#f9d14c;">
                    <h1 class="mdl-card__title-text">Kurukshetra</h1> <br />
                    <span class="mdl-card__subtitle-text">March 18 2017</span>
                </div>
                <div class="mdl-card__supporting-text">
                    4 days transformational program.
                </div>
                <div class="mdl-card__supporting-text">
                Dates: March 18 2017, March 18 2017, March 18 2017, March 18 2017 <br />
                Language: Kananda
                </div>
				<div width="173" height="157" class="mdl-card__media" style="padding:10px;background-color:rgb(233, 247, 146);">
                    <i class="material-icons">location_on</i><span class="mdl-card__subtitle-text">Location</span>
                    <i class="material-icons">web</i><span class="mdl-card__subtitle-text">Online Payment</span>
                </div>
            </div>
			<div class="mdl-card mdl-shadow--4dp" style="margin: 0 auto;text-align: left;margin-top:5px; margin-bottom:10px;">
                <div class="mdl-card__title" style="background-color:#f9d14c;">
                    <h1 class="mdl-card__title-text">Nirvana</h1> <br />
                    <span class="mdl-card__subtitle-text">March 18 2017</span>
                </div>
                <div class="mdl-card__supporting-text">
                    4 days transformational program.
                </div>
                <div class="mdl-card__supporting-text">
                Dates: March 18 2017, March 18 2017, March 18 2017, March 18 2017 <br />
                Language: Kananda
                </div>
				<div width="173" height="157" class="mdl-card__media" style="padding:10px;background-color:rgb(233, 247, 146);">
                    <i class="material-icons">location_on</i><span class="mdl-card__subtitle-text">Location</span>
                    <i class="material-icons">web</i><span class="mdl-card__subtitle-text">Online Payment</span>
                </div>
            </div>
 -->            <!--<div class="mdl-card mdl-shadow--4dp" style="margin: 0 auto;text-align: left;margin-top:5px; margin-bottom:10px;">
                <div class="mdl-card__title" style="background-color:#f44336;">
                    <h1 class="mdl-card__title-text">Nirvana</h1> <br />
                    <span class="mdl-card__subtitle-text">March 18 2017</span>
                </div>
                <div width="173" height="157" class="mdl-card__media" style="padding:10px;background-color:rgb(233, 247, 146);">
                    <i class="material-icons">location_on</i><span class="mdl-card__subtitle-text">Location</span>
                    <i class="material-icons">web</i><span class="mdl-card__subtitle-text">Online Payment</span>
                </div>
                <div class="mdl-card__supporting-text">
                    4 days transformational program.
                </div>
                <div class="mdl-card__supporting-text">
                Dates: March 18 2017, March 18 2017, March 18 2017, March 18 2017 <br />
                Language: Kananda
                </div>
            </div>
            <div class="mdl-card mdl-shadow--4dp" style="margin: 0 auto;text-align: left;margin-top:5px; margin-bottom:10px;">
                <div class="mdl-card__title" style="background-color:#f44336;">
                    <h1 class="mdl-card__title-text">Kurukshetra</h1> <br />
                    <span class="mdl-card__subtitle-text">March 18 2017</span>
                </div>
                <div width="173" height="157" class="mdl-card__media" style="padding:10px;background-color:rgb(233, 247, 146);">
                    <i class="material-icons">location_on</i><span class="mdl-card__subtitle-text">Location</span>
                    <i class="material-icons">web</i><span class="mdl-card__subtitle-text">Online Payment</span>
                </div>
                <div class="mdl-card__supporting-text">
                    4 days transformational program.
                </div>
                <div class="mdl-card__supporting-text">
                Dates: March 18 2017, March 18 2017, March 18 2017, March 18 2017 <br />
                Language: Kananda
                </div>
            </div>-->
			<img src="img\loading.gif" id="imgLoading" style="padding-top:20px;" />
        </div>
      </main>
    </div>
</div>
	<script type="text/javascript" src="js/db.js"></script>
	<script type="text/javascript" src="js/index.js"></script>
	<script type="text/javascript" src="js/service.js"></script>
	
	<script>
	var successCallback = function(data){
		$('#imgLoading').hide();
		$.each(data, function (i, item) {
			$('.page-content').append(
				'<div class="mdl-card mdl-shadow--4dp" style="margin: 0 auto;text-align: left;margin-top:5px; margin-bottom:10px;">' +
					'<div class="mdl-card__title" style="background-color:#f9d14c;">' +
						'<h1 class="mdl-card__title-text" style="font-weight:bold;">' + item.eventType + '</h1> <br />' +
						'<span class="mdl-card__subtitle-text" style="font-weight:bold;">' + item.dates.split(',')[0] + '</span>' +
					'</div>' +
					'<div class="mdl-card__supporting-text">' +
						((item.eventType == "Workshop") ? 
							(item.dates.split(',').length + " days transformational program.") : 
							(item.eventType == "Kurukshetra" ? 
								"One day program with clarity on What you feed is What you become." : 
								(item.eventType == "Nirvana" ? 
									(item.dates.split(',').length + " days spiritual program.") :
									"Whoops !!! Unknown Event"
								)
							)
						)
					+ '</div>' +
					'<div class="mdl-card__supporting-text">' +
					'<b>Dates: </b>' + item.dates + ' <br />' +
					'<b>Location: </b>' + item.locationName + ' <br />' +
					'<b>Address: </b>' + item.locationAddress + 
					'</div>' +
					'<div width="173" height="200" class="mdl-card__media" style="padding:10px;background-color:rgb(233, 247, 146);">' +
						((item.locationAddress == "") ? '' :
							('<a class="mdl-navigation__link" href="geo:' + item.locationCoordinates + '?q=' + item.locationCoordinates + '(' + item.locationName + ')"><i class="material-icons">location_on</i>Location</a>&nbsp;')
						) +
					'<a class="mdl-navigation__link" href="javascript:alert();"><i class="material-icons">event_note</i>Register</a>' +
					'</div>' +
				'</div>'
			)}
		);
	};

	var errorCallback = function (XMLHttpRequest, textStatus, errorThrown) {
		$('#imgLoading').hide();
		alert('Whooops .. something not correct !!!');
	}
	
	invokeService("/event/list");
	</script>
</body>

</html>